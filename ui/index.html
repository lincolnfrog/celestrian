<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celestrian DAW</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body style="background-color: #0f172a;">
    <div id="loading-overlay"
        style="position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172a;display:flex;justify-content:center;align-items:center;color:#38bdf8;z-index:9999;font-family:sans-serif;">
        <div style="text-align:center;">
            <div style="font-size:24px;font-weight:900;margin-bottom:10px;">CELESTIAN</div>
            <div id="loading-status">Loading modules...</div>
        </div>
    </div>


    <header>
        <h1>CELESTIAN</h1>
        <div class="transport-controls">
            <button class="btn-transport" id="back-btn">BACK (Esc)</button>
            <button class="btn-transport" id="play-btn">PLAY</button>
        </div>
    </header>

    <div class="stack-container" id="canvas-root">
        <!-- FIXED UI OVERLAY -->
        <div id="creation-ui"
            style="position: absolute; top: 80px; left: 40px; z-index: 500; width: 60px; height: 60px;">
            <div id="creation-menu" class="creation-dropdown">
                <div class="menu-item" onclick="createNode('clip')">RECORD NEW CLIP</div>
                <div class="menu-item" onclick="createNode('box')">CREATE SUB-BOX</div>
            </div>
            <button class="btn-plus-circle" onclick="window.toggleCreationMenu(event)">+</button>
        </div>

        <div id="viewport">
            <div id="node-layer"></div>
        </div>
    </div>

    <div id="debug-panel"
        style="position: fixed; bottom: 10px; right: 10px; display: flex; flex-direction: column; gap: 5px; z-index: 1000; align-items: flex-end;">
        <div id="debug-log">Log initialized...</div>
        <button id="dump-state-btn" class="btn-transport" style="font-size: 10px; padding: 4px 8px;">ðŸ“¦ Dump
            State</button>
    </div>

    <!-- Modular JS -->
    <script type="module" src="js/app.js"></script>
</body>

</html>